"use strict";(self.webpackChunkfuriku_docs=self.webpackChunkfuriku_docs||[]).push([[955],{1756:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"dto-and-rest","title":"\ud83d\udce6 DTOs y Buenas Pr\xe1cticas de API REST","description":"Furiku sigue una estructura clara y consistente para el uso de DTOs (Data Transfer Objects) y el dise\xf1o de sus API REST, asegurando c\xf3digo limpio, mantenible y predecible para los desarrolladores.","source":"@site/docs/dto-and-rest.md","sourceDirName":".","slug":"/dto-and-rest","permalink":"/furiku-docs/docs/dto-and-rest","draft":false,"unlisted":false,"editUrl":"https://github.com/furiku/furiku-docs/edit/main/docs/dto-and-rest.md","tags":[],"version":"current","frontMatter":{"id":"dto-and-rest","title":"\ud83d\udce6 DTOs y Buenas Pr\xe1cticas de API REST","sidebar_label":"DTOs y API REST"},"sidebar":"tutorialSidebar","previous":{"title":"Auditor\xeda y Soft Delete","permalink":"/furiku-docs/docs/soft-delete-audit"}}');var i=s(4848),d=s(8453);const o={id:"dto-and-rest",title:"\ud83d\udce6 DTOs y Buenas Pr\xe1cticas de API REST",sidebar_label:"DTOs y API REST"},l=void 0,a={},t=[{value:"\ud83d\udce6 \xbfQu\xe9 es un DTO?",id:"-qu\xe9-es-un-dto",level:2},{value:"\ud83e\uddf1 Convenci\xf3n de nombres en Furiku",id:"-convenci\xf3n-de-nombres-en-furiku",level:2},{value:"Ejemplos:",id:"ejemplos",level:3},{value:"\ud83d\uddc2\ufe0f Organizaci\xf3n por m\xf3dulo",id:"\ufe0f-organizaci\xf3n-por-m\xf3dulo",level:2},{value:"\ud83d\udce5 Ejemplo: <code>UserRequestDTO</code>",id:"-ejemplo-userrequestdto",level:2},{value:"\ud83d\udce4 Ejemplo: <code>UserResponseDTO</code>",id:"-ejemplo-userresponsedto",level:2},{value:"\ud83c\udf10 Buenas pr\xe1cticas en el dise\xf1o de API REST",id:"-buenas-pr\xe1cticas-en-el-dise\xf1o-de-api-rest",level:2},{value:"\u2714\ufe0f Usar nombres sem\xe1nticos y plurales",id:"\ufe0f-usar-nombres-sem\xe1nticos-y-plurales",level:3},{value:"\u2714\ufe0f Usar los m\xe9todos HTTP correctos",id:"\ufe0f-usar-los-m\xe9todos-http-correctos",level:3},{value:"\u2714\ufe0f Separar claramente input y output",id:"\ufe0f-separar-claramente-input-y-output",level:3},{value:"\u2714\ufe0f Validaciones autom\xe1ticas",id:"\ufe0f-validaciones-autom\xe1ticas",level:3},{value:"\u2714\ufe0f Internamente consistente",id:"\ufe0f-internamente-consistente",level:3},{value:"\u26a0\ufe0f Qu\xe9 evitar",id:"\ufe0f-qu\xe9-evitar",level:3},{value:"\ud83e\udde9 Conclusi\xf3n",id:"-conclusi\xf3n",level:2}];function c(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Furiku sigue una estructura clara y consistente para el uso de ",(0,i.jsx)(n.strong,{children:"DTOs (Data Transfer Objects)"})," y el dise\xf1o de sus ",(0,i.jsx)(n.strong,{children:"API REST"}),", asegurando c\xf3digo limpio, mantenible y predecible para los desarrolladores."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-qu\xe9-es-un-dto",children:"\ud83d\udce6 \xbfQu\xe9 es un DTO?"}),"\n",(0,i.jsxs)(n.p,{children:["Un DTO (Data Transfer Object) es un objeto que se utiliza para ",(0,i.jsx)(n.strong,{children:"transportar datos"})," entre capas del sistema, especialmente entre:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Controladores y servicios"}),"\n",(0,i.jsx)(n.li,{children:"Servicios y clientes (API REST)"}),"\n",(0,i.jsx)(n.li,{children:"Operaciones de entrada (input) y salida (output)"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\ud83d\udeab Los DTOs ",(0,i.jsx)(n.strong,{children:"no deben contener l\xf3gica de negocio"}),", solo datos."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-convenci\xf3n-de-nombres-en-furiku",children:"\ud83e\uddf1 Convenci\xf3n de nombres en Furiku"}),"\n",(0,i.jsxs)(n.p,{children:["Furiku utiliza el sufijo ",(0,i.jsx)(n.code,{children:"DTO"})," al final de cada clase DTO para mantener claridad inmediata en el c\xf3digo."]}),"\n",(0,i.jsx)(n.h3,{id:"ejemplos",children:"Ejemplos:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UserRequestDTO"}),": datos enviados al registrar un usuario"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UserResponseDTO"}),": datos devueltos al consultar un usuario"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"LoginRequestDTO"}),": datos de login"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"BusinessResponseDTO"}),": informaci\xf3n del negocio al crearlo o consultarlo"]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u2705 El nombre describe su prop\xf3sito (",(0,i.jsx)(n.code,{children:"Request"}),", ",(0,i.jsx)(n.code,{children:"Response"}),", ",(0,i.jsx)(n.code,{children:"Update"}),", ",(0,i.jsx)(n.code,{children:"Login"}),", etc.)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-organizaci\xf3n-por-m\xf3dulo",children:"\ud83d\uddc2\ufe0f Organizaci\xf3n por m\xf3dulo"}),"\n",(0,i.jsx)(n.p,{children:"Los DTOs est\xe1n ubicados en cada paquete de dominio:"}),"\n",(0,i.jsx)(n.p,{children:"org.furiku.user.dto\norg.furiku.business.dto\norg.furiku.order.dto\norg.furiku.product.dto"}),"\n",(0,i.jsx)(n.p,{children:"Esto permite que cada m\xf3dulo sea autocontenible y escalable."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"-ejemplo-userrequestdto",children:["\ud83d\udce5 Ejemplo: ",(0,i.jsx)(n.code,{children:"UserRequestDTO"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"    package org.furiku.user.dto;\n\n    import lombok.Data;\n    import jakarta.validation.constraints.*;\n\n    @Data\n    public class UserRequestDTO {\n        @NotBlank\n        private String name;\n\n        @Email\n        @NotBlank\n        private String email;\n\n        @NotBlank\n        private String password;\n\n        private String role; // optional, defaults to STAFF\n\n        @NotBlank\n        private String tenantId;\n    }\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"-ejemplo-userresponsedto",children:["\ud83d\udce4 Ejemplo: ",(0,i.jsx)(n.code,{children:"UserResponseDTO"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"    @Data\n    @Builder\n    public class UserResponseDTO {\n        private String name;\n        private String email;\n        private String role;\n        private String tenantId;\n    }\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-buenas-pr\xe1cticas-en-el-dise\xf1o-de-api-rest",children:"\ud83c\udf10 Buenas pr\xe1cticas en el dise\xf1o de API REST"}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-usar-nombres-sem\xe1nticos-y-plurales",children:"\u2714\ufe0f Usar nombres sem\xe1nticos y plurales"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/api/users"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/api/products"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"/api/orders/{id}"})}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Los endpoints deben representar recursos, no acciones (",(0,i.jsx)(n.code,{children:"/login"})," es una excepci\xf3n v\xe1lida)."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-usar-los-m\xe9todos-http-correctos",children:"\u2714\ufe0f Usar los m\xe9todos HTTP correctos"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"M\xe9todo"}),(0,i.jsx)(n.th,{children:"Uso com\xfan"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"GET"})}),(0,i.jsx)(n.td,{children:"Obtener recursos"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"POST"})}),(0,i.jsx)(n.td,{children:"Crear nuevos recursos"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PUT"})}),(0,i.jsx)(n.td,{children:"Actualizar completamente un recurso"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PATCH"})}),(0,i.jsx)(n.td,{children:"Actualizaci\xf3n parcial (si aplica)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DELETE"})}),(0,i.jsx)(n.td,{children:"Eliminar (soft delete en Furiku)"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-separar-claramente-input-y-output",children:"\u2714\ufe0f Separar claramente input y output"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"RequestDTO"})," para entrada"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ResponseDTO"})," para salida"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Evita usar entidades JPA (",(0,i.jsx)(n.code,{children:"@Entity"}),") directamente como respuesta o entrada."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-validaciones-autom\xe1ticas",children:"\u2714\ufe0f Validaciones autom\xe1ticas"}),"\n",(0,i.jsx)(n.p,{children:"Todos los DTOs de entrada deben usar anotaciones como:"}),"\n",(0,i.jsx)(n.p,{children:"@NotBlank\n@Email\n@Min\n@Pattern"}),"\n",(0,i.jsx)(n.p,{children:"Esto reduce errores y evita l\xf3gica repetida en servicios."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-internamente-consistente",children:"\u2714\ufe0f Internamente consistente"}),"\n",(0,i.jsx)(n.p,{children:"Furiku mantiene la convenci\xf3n:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Todos los controladores reciben y devuelven DTOs"}),"\n",(0,i.jsx)(n.li,{children:"Los servicios trabajan con entidades"}),"\n",(0,i.jsx)(n.li,{children:"Los mappers (si son necesarios) convierten entre DTO \u2194 entidad"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-qu\xe9-evitar",children:"\u26a0\ufe0f Qu\xe9 evitar"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u274c Usar la entidad como payload de respuesta"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Devolver passwords o datos sensibles"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Mezclar campos innecesarios entre m\xf3dulos"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Cambiar el nombre de campos entre request y response"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-conclusi\xf3n",children:"\ud83e\udde9 Conclusi\xf3n"}),"\n",(0,i.jsx)(n.p,{children:"Furiku mantiene una organizaci\xf3n clara y consistente para sus DTOs y APIs REST, siguiendo los principios de:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Claridad de intenci\xf3n"}),"\n",(0,i.jsx)(n.li,{children:"Separaci\xf3n de capas"}),"\n",(0,i.jsx)(n.li,{children:"Validaci\xf3n autom\xe1tica"}),"\n",(0,i.jsx)(n.li,{children:"Dise\xf1o RESTful est\xe1ndar"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\ud83d\udce6 Un buen dise\xf1o de DTOs y REST no solo facilita el desarrollo, sino que mejora la mantenibilidad, escalabilidad y experiencia para futuros colaboradores."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var r=s(6540);const i={},d=r.createContext(i);function o(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);